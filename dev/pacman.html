<DOCTYPE html>
<!-- Pacman -->
<!-- By Matt Platts - mattplatts@gmail.com-->
<html>
<head>
	<title>Pac Man - Level 1</title>

	<link rel="stylesheet" type="text/css" href="css/maze.css" />
	<link rel="stylesheet" type="text/css" href="css/pacman.css" />
	<link rel="stylesheet" type="text/css" href="css/icon.css" />
	<style>
	body {
		overflow:hidden;
	}
	</style>

</head>

<body onKeyDown="kd(event)" onKeyUp="ku(event)">

<div id="score" align="center">
	<form>
	SCORE: <input type="text" class="scores" value="000" size="4" name="score" readonly> LIVES: <input type="text" class="scores" value="3" size="1" name="lives" readonly>  TIME: <input type="text" class="scores" value="2000" size="4" name="gametimer" readonly>
	</form>
</div>

<div id="maze"> 
<div id="mazeinner"></div>
</div>

<div id="pacman" name="pacman" class="sprite pacman" style="top:265px; left:305px;">
   <div id="pacman-top"></div>
   <div id="pacman-bottom"></div>
</div>

<div id='ghost0' class="sprite ghost" style="top:205px; left:305px;">
<img src="graphics/ghost_red.gif" name="gst0" alt="" border="0">
</div>

<div id='ghost1' class="sprite ghost" style="top:205px; left:305px;">
<img src="graphics/ghost_pink.gif" name="gst1" alt="" border="0">
</div>

<div id='ghost2' class="sprite ghost" style="top:205px; left:305px;">
<img src="graphics/ghost_blue.gif" name="gst2" alt="" border="0">
</div>

<div id="ghost3" class="sprite ghost" style="top:205px; left:305px;">
<img src="graphics/ghost_orange.gif" name="gst3" alt="" border="0">
</div>

<div id="fruit" class="sprite" style="position:absolute;top:265px; left:305px; visibility:hidden">
<img src="graphics/cherry.gif" name="berry" width=23 height=23>
</div>

<div id="start" class="notice" style="visibility:visible;">
	<span class="notice_top" id="levelIndicator">Level <script>document.write(sessionStorage.level)</script></span>
	<span class="notice_bottom">Get Ready...</span>
</div>

<div id="message" class="notice">
	<span class="notice_top">One Life Lost</span><br />
	<span class="notice_bottom">Get Ready..</span>
</div>

<div id="messageEnd" class="notice" style="z-index:9;">
	<span class="notice_top">Final Life Lost - <font color='orange'>Game Over</font></span><br />
	<span id="score" class="notice_bottom"></span>
</div>

<!-- Include javascript libraries //-->
<script language="JavaScript">
<!-- 

function loadScript(url, callback){
    // Adding the script tag to the head as suggested before
    var head = document.getElementsByTagName('head')[0];
    var script = document.createElement('script');
    script.type = 'text/javascript';
    script.src = url;

    // Then bind the event to the callback function.
    // There are several events for cross browser compatibility.
    script.onreadystatechange = callback;
    script.onload = callback;

    // Fire the loading
    head.appendChild(script);
}

var keepLoading = function (){
	loadScript("js/maze.js",loadMain);
}
var kickOff = function(){
	init();
}
var loadMain = function(){
	mazedata=renderGrid();
	loadScript("js/pacman.js",kickOff);
	
}
dataFile = "js/data/mazedata" + sessionStorage.level + ".js";
loadScript(dataFile,keepLoading);

function gameStart(){
	window.focus();
	document.focus();
	init();
}

//-->
</script>
</body>
</html>
